(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/HM-search/HM-search","components/mehaotian-search-revision/mehaotian-search-revision"],{5943:function(t,e,i){"use strict";i.r(e);var n=i("c8ef"),o=i("a7da");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("f263");var s=i("2877"),r=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},8072:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},8935:function(t,e,i){},a7da:function(t,e,i){"use strict";i.r(e);var n=i("d13e"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},bb28:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("5943"));function o(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{defaultKeyword:"",keyword:"",oldKeywordList:[],hotKeywordList:[],keywordList:[],forbid:"",isShowKeywordList:!1}},onLoad:function(){this.init()},components:{mSearch:n.default},methods:{init:function(){this.loadDefaultKeyword(),this.loadOldKeyword(),this.loadHotKeyword()},blur:function(){t.hideKeyboard()},loadDefaultKeyword:function(){this.defaultKeyword="请输入关键字"},loadOldKeyword:function(){var e=this;t.getStorage({key:"OldKeys",success:function(t){var i=JSON.parse(t.data);e.oldKeywordList=i}})},loadHotKeyword:function(){this.hotKeywordList=["键盘","鼠标","显示器","电脑主机","蓝牙音箱","笔记本电脑","鼠标垫","USB","USB3.0"]},inputChange:function(e){var i=this,n=e.detail?e.detail.value:e;if(!n)return this.keywordList={username:""},void(this.isShowKeywordList=!1);this.isShowKeywordList=!0,t.request({url:this.serverUrl+"/findName",method:"POST",data:JSON.stringify(n),contentType:"application/json;charset=utf-8",success:function(t){i.keywordList=i.drawCorrelativeKeyword(t.data.result,n)}})},drawCorrelativeKeyword:function(t,e){for(var i=t.length,n=[],o=0;o<i;o++){var a=t[o],s=a[0].replace(e,"<span style='color: #9f9f9f;'>"+e+"</span>");s="<div>"+s+"</div>";var r={keyword:a[0],htmlStr:s};n.push(r)}return n},setkeyword:function(t){this.keyword=t.keyword},oldDelete:function(){var e=this;t.showModal({content:"确定清除历史搜索记录？",success:function(i){i.confirm?(console.log("用户点击确定"," at pages\\HM-search\\HM-search.vue:161"),e.oldKeywordList=[],t.removeStorage({key:"OldKeys"})):i.cancel&&console.log("用户点击取消"," at pages\\HM-search\\HM-search.vue:167")}})},hotToggle:function(){this.forbid=this.forbid?"":"_forbid"},doSearch:function(e){e=e||(this.keyword?this.keyword:this.defaultKeyword),this.keyword=e,this.saveKeyword(e),t.showToast({title:e,icon:"none",duration:2e3})},saveKeyword:function(e){var i=this;t.getStorage({key:"OldKeys",success:function(n){console.log(n.data," at pages\\HM-search\\HM-search.vue:199");var o=JSON.parse(n.data),a=o.indexOf(e);-1==a?o.unshift(e):(o.splice(a,1),o.unshift(e)),o.length>10&&o.pop(),t.setStorage({key:"OldKeys",data:JSON.stringify(o)}),i.oldKeywordList=o},fail:function(n){var o=[e];t.setStorage({key:"OldKeys",data:JSON.stringify(o)}),i.oldKeywordList=o}})}}};e.default=a}).call(this,i("6e42")["default"])},c693:function(t,e,i){},c8ef:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},cc06:function(t,e,i){"use strict";i.r(e);var n=i("8072"),o=i("da4e");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("f444");var s=i("2877"),r=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},d13e:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{mode:{value:Number,default:1},placeholder:{value:String,default:"请输入搜索内容"},value:{type:String,default:!1},button:{value:String,default:"outside"},show:{value:Boolean,default:!0},radius:{value:String,default:60}},data:function(){return{active:!1,inputVal:"",searchName:"取消",isDelShow:!1,isFocus:!1}},methods:{triggerConfirm:function(){this.$emit("confirm",!1)},inputChange:function(t){var e=t.detail.value;this.$emit("input",e),this.inputVal&&(this.isDelShow=!0)},focus:function(){this.active=!0,this.inputVal&&(this.isDelShow=!0)},blur:function(){this.isFocus=!1,this.inputVal||(this.active=!1)},clear:function(){t.hideKeyboard(),this.isFocus=!1,this.inputVal="",this.active=!1,this.$emit("input","")},getFocus:function(){this.isFocus=!0},search:function(){if(!this.inputVal&&!this.show&&"取消"==this.searchName)return t.hideKeyboard(),this.isFocus=!1,void(this.active=!1);console.log(this.inputVal," at components\\mehaotian-search-revision\\mehaotian-search-revision.vue:111"),this.$emit("search",this.inputVal?this.inputVal:this.placeholder)}},watch:{inputVal:function(t){t?this.searchName="搜索":(this.searchName="取消",this.isDelShow=!1)},value:function(t){this.inputVal=t}}};e.default=i}).call(this,i("6e42")["default"])},da4e:function(t,e,i){"use strict";i.r(e);var n=i("bb28"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},f263:function(t,e,i){"use strict";var n=i("c693"),o=i.n(n);o.a},f444:function(t,e,i){"use strict";var n=i("8935"),o=i.n(n);o.a}},[["5804","common/runtime","common/vendor"]]]);